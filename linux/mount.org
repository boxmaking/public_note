#+SETUPFILE: ~/.emacs.d/org-other-file/org-level-1.org
#+TITLE: 系统挂载的教程
#+DATE: <2020-06-24-176/Wednesday>
#+KEYWORDS: mount fdisk
#+LANGUAGE: zh-CN


* 首先查看详细的信息
#+BEGIN_SRC shell
$sudo fdisk -l
Disk /dev/sda：931.5 GiB，1000204886016 字节，1953525168 个扇区
Disk model: WDC WD10EZEX-75W
单元：扇区 / 1 * 512 = 512 字节
扇区大小(逻辑/物理)：512 字节 / 4096 字节
I/O 大小(最小/最佳)：4096 字节 / 4096 字节
磁盘标签类型：gpt
磁盘标识符：484C761A-90F3-41D0-B721-78E9E6B2E437

设备           起点       末尾       扇区   大小 类型
/dev/sda1      2048    1050623    1048576   512M EFI 系统
/dev/sda2   1050624   59643903   58593280    28G Linux 文件系统
/dev/sda3  59643904   67926015    8282112     4G Linux swap
/dev/sda4  67926016 1953523711 1885597696 899.1G Linux 文件系统


Disk /dev/sdb：931.5 GiB，1000204886016 字节，1953525168 个扇区
Disk model: WDC WD10PURX-69K
单元：扇区 / 1 * 512 = 512 字节
扇区大小(逻辑/物理)：512 字节 / 4096 字节
I/O 大小(最小/最佳)：4096 字节 / 4096 字节
磁盘标签类型：dos
磁盘标识符：0xa58fc54c

设备       启动       起点       末尾       扇区   大小 Id 类型
/dev/sdb1             2048 1953523711 1953521664 931.5G  f W95 扩展 (LBA)
/dev/sdb5             4096 1048582143 1048578048   500G  7 HPFS/NTFS/exFAT
/dev/sdb6       1048584192 1953523711  904939520 431.5G  7 HPFS/NTFS/exFAT


Disk /dev/sdc：111.8 GiB，120034123776 字节，234441648 个扇区
Disk model: ZSPEED SSD 120GB
单元：扇区 / 1 * 512 = 512 字节
扇区大小(逻辑/物理)：512 字节 / 512 字节
I/O 大小(最小/最佳)：512 字节 / 512 字节
磁盘标签类型：gpt
磁盘标识符：56D5CC38-DA22-47F1-8551-1E1AB2966508

设备         起点      末尾      扇区   大小 类型
/dev/sdc1    2048    616447    614400   300M EFI 系统
/dev/sdc2  616448    878591    262144   128M Microsoft 保留
/dev/sdc3  878592 234441614 233563023 111.4G Microsoft 基本数据


Disk /dev/sdd：7.2 GiB，7775191040 字节，15185920 个扇区
Disk model: USB Flash Drive 
单元：扇区 / 1 * 512 = 512 字节
扇区大小(逻辑/物理)：512 字节 / 512 字节
I/O 大小(最小/最佳)：512 字节 / 512 字节
磁盘标签类型：dos
磁盘标识符：0x00041f8a

设备       启动  起点     末尾     扇区  大小 Id 类型
/dev/sdd1  *     2048 15185919 15183872  7.2G  c W95 FAT32 (LBA)

#+END_SRC

查看那个硬盘的那个分区,的代号是什么.


* 挂载
#+BEGIN_SRC shell
$sudo mount.ntfs-3g /dev/sdb6 ./temp/mount-temp/sdb6
$sudo mount.ntfs-3g /dev/sdb5 ./***
#+END_SRC
使用了mount.ntfs-3g来挂在的ntfs格式的分区就能够读写挂载了.


* 卸载文件
1. 通过设备名称卸载
   #+BEGIN_SRC shell
   $sudo umount -v /dev/sdb5
   #+END_SRC
2. 通过挂在点卸载
   #+BEGIN_SRC shell
   $sudo umount -v  ./***
   #+END_SRC
-v选项为显示详细信息

* 如何开机自动挂在硬盘在某个位置

1. 首先
   #+BEGIN_SRC shell
   $sudo  blkid 
   /dev/sda1: UUID="B4BC-C378" TYPE="vfat" PARTUUID="f8bd88ba-dc1e-4e98-b84b-8bdc7d24ec95"
   /dev/sda2: UUID="6a677709-f8fc-415a-98ad-9754192e54c9" TYPE="ext4" PARTUUID="11ee69aa-7e90-499d-b421-a3009dd79bca"
   /dev/sda3: UUID="5ff07536-bfde-482e-b4ea-571a9abc16be" TYPE="swap" PARTUUID="f408f7e7-b5a5-42e3-8c9b-87275121a3d9"
   /dev/sda4: UUID="083aa363-750a-40b0-8f6f-f90adfde2e78" TYPE="ext4" PARTUUID="9137ac47-a767-4b7c-9ba2-4bce12d800ac"
   /dev/sdb5: UUID="DA18EBFA09C1B27D" TYPE="ntfs" PARTUUID="a58fc54c-05"
   /dev/sdb6: UUID="65F33762C14D581B" TYPE="ntfs" PARTUUID="a58fc54c-06"
   /dev/sdc1: SEC_TYPE="msdos" UUID="6004-51AA" TYPE="vfat" PARTLABEL="EFI system partition" PARTUUID="b8d94594-0025-4de4-88e0-77d9b922a4b1"
   /dev/sdc2: PARTLABEL="Microsoft reserved partition" PARTUUID="1dd0244c-87d2-46b8-8c57-794f95efb7cf"
   /dev/sdc3: UUID="9A5C8C9C5C8C74B3" TYPE="ntfs" PARTLABEL="Basic data partition" PARTUUID="7792379f-f0c9-4d49-a394-976f6bd9a967"
   #+END_SRC
   显示出分区信息，记下要自动挂载的分区 UUID，与 Type。

2. 在文件系统中创建文件夹作为分区的挂载点
   #+BEGIN_SRC shell
   $mkdir ~/HDD
   #+END_SRC
3. 然后
   #+BEGIN_SRC shell
   $sudo gedit /etc/fstab
   #+END_SRC
4. 在最后添加一行
   #+BEGIN_EXAMPLE
   UUID=<UUID>	/path/to/HDD	<Type>	defaults	0	0
   #+END_EXAMPLE
   替换其中的 <UUID> 与 <Type> 为之前的查询结果，重启电脑，则分区已经挂载在 ~/HDD 目录下。

